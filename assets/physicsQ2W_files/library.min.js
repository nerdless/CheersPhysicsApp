function NewWindow(a,b,c,d,e,f){"random"==f&&(LeftPosition=screen.width?Math.floor(Math.random()*(screen.width-c)):100,TopPosition=screen.height?Math.floor(Math.random()*(screen.height-d-75)):100),"center"==f?(LeftPosition=screen.width?(screen.width-c)/2:100,TopPosition=screen.height?(screen.height-d)/2:100):("center"!=f&&"random"!=f||null==f)&&(LeftPosition=0,TopPosition=20),settings="width="+c+",height="+d+",top="+TopPosition+",left="+LeftPosition+",scrollbars="+e+",location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=no",win=window.open(a,b,settings)}var WEBAPP=function(){this.init()};WEBAPP.prototype.init=function(){var a=this;this.isTouch="ontouchstart"in window,this.END=this.isTouch?"touchend":"click",this.interval=null,this.newerbrowser=document.createElement("canvas").getContext,this.bginterval=null,$(".home").is(":visible")&&(this.beerrotater=new BEERROTATER(this),this.scroller=new SCROLLER(this,this.beerrotater.stage),this.chkanswers=new CHKANSWERS(this),this.interval=setInterval(function(){a.beerrotater.ready&&(a.assignhomecontrols(),a.initiateresize(),window.clearInterval(a.interval),a.interval=null)},25)),this.stopimagedrag()},WEBAPP.prototype.reset=function(){this.isTouch=null,this.END=null,window.clearInterval(this.interval),this.interval=null,this.newerbrowser=null,this.beerrotater=null,this.scroller=null,this.chkanswers=null,window.clearInterval(this.bginterval),this.bginterval=null,this.init(),location.hash=""},WEBAPP.prototype.assignhomecontrols=function(){var a=this;$(".beer,.beeranswerimg").bind(a.END,function(){var a=$(this);a.hasClass("atfront")&&$(this).toggleClass("flip")}),$("#star").bind(a.END,function(){$(this).toggleClass("active"),window.clearInterval(a.interval),a.interval=setInterval(function(){$("#star").removeClass("active")},3e3)}),$("#beer_goleft").bind(a.END,function(b){b.preventDefault(),a.scroller.scrollleft()}),$("#beer_goright").bind(a.END,function(b){b.preventDefault(),a.scroller.scrollright()})},WEBAPP.prototype.stopimagedrag=function(){var a=$("img");a.click(function(a){a.preventDefault()}),a.bind("dragstart",function(a){a.preventDefault()})},WEBAPP.prototype.initiateresize=function(){var a=this;a.bginterval=setInterval(function(){$(".background").css({width:"100%",height:document.body.clientHeight+"px"})},60),$(window).resize(function(){a.resize(),a.beerrotater.sizeposmat()})},WEBAPP.prototype.resize=function(){var a=document.getElementById("beerfacts_container"),b=document.getElementById("questioncontainer"),c=document.getElementById("header").offsetHeight+3,d=document.getElementById("footer").offsetHeight,f=document.body.clientHeight-(c+d);$(document).width()>=768?(a.style.minHeight=b.offsetHeight+"px",a.style.height=f+"px"):(a.style.minHeight="auto",a.style.height="auto")};var CHKANSWERS=function(a){this.parent=a,this.checkanswer=$(".question"),this.homepagehtml=null,this.originalbeerfactsheight=null,this.interval=null,this.hashinterval=null,this.forwardclickable=!0,this.backclickable=!0,this.assignclick()};CHKANSWERS.prototype.assignclick=function(){var a=this;$(this.checkanswer).bind("click",function(){if(a.forwardclickable){a.forwardclickable=!1;var b=this,c=$(this).attr("data-name"),d=c+"/answer/index.html";a.parent.newerbrowser?a.gotoanswer(a,b,d,1,c):window.location=d+"?answer="}})},CHKANSWERS.prototype.sethashinterval=function(){var a=this,b=location.hash;a.hashinterval=setInterval(function(){""==location.hash&&(a.gotoanswer(a,null,null,0),b=location.hash,window.clearInterval(a.hashinterval),a.hashinterval=null)},60)},CHKANSWERS.prototype.gotoanswer=function(a,b,c,d,e){var f=new TimelineMax,g=new TimelineMax,i=document.getElementById("beerfacts_container"),j=document.getElementById("questioncontainer"),k=document.getElementById("header"),l=$(document).width()/2-j.offsetWidth/2;d>0?(location.hash="checkanswer",this.sethashinterval(),$("#footer").fadeOut(200),f.append(TweenMax.to(b,.1,{css:{scale:1.1}})),f.append(TweenMax.to(b,.1,{css:{scale:1}})),$(document).width()>=768?f.append(TweenMax.to(i,.3,{css:{x:i.offsetWidth},ease:Elastic.easeInOut.config(1,1.2)})):(l=0,a.originalbeerfactsheight=i.offsetHeight,f.append(TweenMax.to(i,.3,{css:{height:"0px",minHeight:"0px;"},ease:Elastic.easeInOut.config(1,1.2)}))),f.addCallback(function(){$(i).hide()},.4),f.append(TweenMax.to(j,.7,{css:{alpha:0,x:l},ease:Elastic.easeInOut.config(1,1.2)})),f.append(TweenMax.to(k,.1,{css:{height:0}})),f.addCallback(function(){function d(b){a.homepagehtml=$(b).find("#questioncontainer").html()}function e(){}function f(c){TweenMax.set(j,{css:{x:0}});var d=$(b);if("bubbles"===d.attr("data-name")){var e=document.createElement("img");e.src="images/correct.png",$(e).css({display:"block",margin:"10px auto 0",width:"289px"}),$(j).append(e)}else if(d.attr("data-letter")==d.attr("data-answer")){var e=document.createElement("img");e.src="images/correct.png",$(e).css({display:"block",margin:"10px auto 0",width:"289px"}),$(j).append(e)}else{var e=document.createElement("img");e.src="images/incorrect.png",$(e).css({display:"block",margin:"10px auto 0",width:"289px"}),$(j).append(e)}$(j).append($(c).find("#questioncontainer").html().split("../../").join("")),TweenMax.to(j,.8,{css:{alpha:1},ease:Elastic.easeInOut.config(1,1.2)}),$("#backtohome").bind("click",function(b){if(a.backclickable){a.forwardclickable=!0,b.preventDefault();var c=new TimelineMax;c.append(TweenMax.to(this,.1,{css:{scale:1.1}})),c.append(TweenMax.to(this,.1,{css:{scale:1}})),a.backclickable=!1;var d=this;a.parent.newerbrowser?a.gotoanswer(a,d,null,0):window.location="../../index.html",window.clearInterval(a.inverval),a.inverval=null}})}function g(){}$("body").addClass("answer").removeClass("home"),$(j).empty(),null==a.homepagehtml&&$.ajax({cache:!1,type:"GET",url:"index.html",success:d,error:e,dataType:"text"}),$.ajax({cache:!1,type:"GET",url:c,success:f,error:g,dataType:"text"})},1.3)):(!$(document).width()>=768&&(l=0),f.append(TweenMax.to(j,.5,{css:{alpha:0},ease:Elastic.easeInOut.config(1,1.2)})),f.addCallback(function(){$(j).empty().html(a.homepagehtml),$("body").removeClass("answer").addClass("home");var b=setInterval(function(){a.parent.beerrotater.ready&&(a.parent.reset(),TweenMax.set(j,{css:{x:l}}),$(i).show(),g.append(TweenMax.to(k,.1,{css:{height:"100px"}})),g.append(TweenMax.to(j,.6,{css:{alpha:1,x:0},ease:Elastic.easeInOut.config(1,1.2)})),$(document).width()>=768?g.append(TweenMax.to(i,.3,{css:{x:1},ease:Elastic.easeInOut.config(1,1.2)})):g.append(TweenMax.to(i,.3,{css:{x:0,height:a.originalbeerfactsheight,minHeight:a.originalbeerfactsheight},ease:Elastic.easeInOut.config(1,1.2)})),f.addCallback(function(){$("#footer").fadeIn(200),a.parent.resize()},1.7),window.clearInterval(b),b=null)},25)},.5))};var BEERROTATER=function(a){var b=this;this.parent=a,this.stage=document.getElementById("beerrotater"),this.$beermats=$(".beer"),this.matwidth=0,this.matheight=0,this.noofimagesready=0,this.beermats=[],this.interval=null,this.ready=null,this.getnoofmats(),this.createimages(),this.interval=setInterval(function(){b.noofimagesready==b.beermats.length&&(b.sizeposmat(),window.clearInterval(b.interval),b.interval=null)},25)};BEERROTATER.prototype.getnoofmats=function(){for(var a=this,b=$(a.stage).children(),c=0;c<b.length;c++){var d=b[c];a.beermats.push(new BEERMAT(d))}};var BEERMAT=function(a){this.elemobj=a,this.position=null};BEERROTATER.prototype.createimages=function(){for(var a=this,b=0;b<a.beermats.length;b++){var c=a.beermats[b].elemobj,d=document.createElement("img"),f=(document.createElement("img"),$(c));d.onload=function(){a.noofimagesready++,a.matwidth=this.width,a.matheight=this.height},d.onerror=function(){a.noofimagesready++,a.matwidth=this.width,a.matheight=this.height},d.src="images/beermat"+(b+1)+".png",f.find(".front").append(d)}},BEERROTATER.prototype.sizeposmat=function(){var a=this;a.$beermats.css({width:a.matwidth,height:a.matheight}),a.stage.style.height=a.matheight+"px",document.getElementById("beer_goright").style.height=a.matheight+"px",document.getElementById("beer_goleft").style.height=a.matheight+"px",document.getElementById("beer_goright").style.width=(a.stage.offsetWidth-a.matwidth)/2+"px",document.getElementById("beer_goleft").style.width=(a.stage.offsetWidth-a.matwidth)/2+"px";for(var b=0;b<a.beermats.length;b++){var c=a.beermats[b],d=b;null!=c.position&&(d=c.position),a.position(c,!0,d,1)}a.ready=!0},BEERROTATER.prototype.rotate=function(a){for(var b=this,a=a,c=0;c<b.beermats.length;c++){var d=b.beermats[c],e=d.position+a;e>b.beermats.length-1?e=0:0>e&&(e=b.beermats.length-1),b.position(d,!0,e,a)}},BEERROTATER.prototype.position=function(a,b,c,d){var e=0,f=a.elemobj,g=$(f),c=c,h=this,i=(h.stage.offsetWidth-h.matwidth)/2;switch(b&&(e=1.3),a.position=c,c){case 0:g.css("z-index",2).removeClass("atfront flip"),TweenMax.to(f,e,{css:{alpha:.7,scale:.5,x:i-h.matwidth/1.2},ease:Elastic.easeOut.config(1,1.2)});break;case 1:g.css("z-index",4).addClass("atfront"),TweenMax.to(f,e,{css:{alpha:1,scale:1,x:i},ease:Elastic.easeOut.config(1,1.2),onComplete:function(a){void 0!=a.target&&TweenMax.killTweensOf(a.target);var b="#qanda_"+f.id.replace("beer_",""),c=$(b);$("body").attr("class","home ").addClass(c.attr("data-name"));var d=$("."+c.attr("data-name"));TweenMax.to($(".background").not(d),.3,{css:{alpha:0,display:"none"}}),TweenMax.to(d,.3,{css:{alpha:1,display:"block"}}),TweenMax.to($(".qanda").not(b),.3,{css:{alpha:0,display:"none"}}),setTimeout(function(){TweenMax.to(c,.3,{css:{alpha:1,scale:1,display:"block"}}),setTimeout(function(){h.parent.resize()},10)},300)},onCompleteParams:["{self}"],onCompleteScope:{}});break;case 2:g.css("z-index",2+d).removeClass("atfront flip"),TweenMax.to(f,e,{css:{alpha:.7,scale:.5,x:i+h.matwidth/1.2},ease:Elastic.easeOut.config(1,1.2)});break;default:g.css("z-index",1).removeClass("atfront flip"),TweenMax.to(f,e,{css:{alpha:0,scale:.2,x:i},ease:Elastic.easeOut.config(1,1.2)})}};var SCROLLER=function(a,b){this.parent=a,this.scrollabe=b,this.scrollableelem=$(b)[0],this.isTouch=this.parent.isTouch,this.START=this.isTouch?"touchstart":"mousedown",this.MOVE=this.isTouch?"touchmove":"mousemove",this.END=this.isTouch?"touchend":"mouseup",this.candrag=!1,this.prevpageX=0,this.initpageX=0,this.pageX=0,abletoanimate=!0,this.init()};SCROLLER.prototype.init=function(){this.attachevents()},SCROLLER.prototype.attachevents=function(){var a=this;$(document).keyup(function(b){return 37==b.keyCode&&(b.preventDefault(),abletoanimate&&a.scrollleft()),39==b.keyCode&&(b.preventDefault(),abletoanimate&&a.scrollright()),!1}),$("#back").live(this.END,function(){abletoanimate&&a.scrollleft()}),$("#forward").live(this.END,function(){abletoanimate&&a.scrollright()}),document.addEventListener?(a.scrollableelem.addEventListener(a.START,function(b){a.eventdown(b)}),a.scrollableelem.addEventListener(a.MOVE,function(b){a.eventmove(b)}),a.scrollableelem.addEventListener(a.END,function(b){a.eventup(b)})):($(a.scrollabe).bind("mousedown",function(b){a.eventdown(b)}),$(a.scrollabe).bind("mousemove",function(b){a.eventmove(b)}),$(a.scrollabe).bind("mouseup",function(b){a.eventup(b)}))},SCROLLER.prototype.eventdown=function(a){var b=this;b.initpageX=b.getpagex(a),b.pageX=b.getpagex(a),b.candrag=!0,b=null},SCROLLER.prototype.eventmove=function(a){var b=this;b.pageX>b.initpageX+6?b.candrag=!1:b.pageX<b.initpageX-6&&(b.candrag=!1),b.candrag&&(b.prevpageX=b.pageX,b.pageX=b.getpagex(a),b.pageX>0&&b.prevpageX>0&&(b.pageX>b.initpageX+7?(a.preventDefault(),b.scrollleft()):b.pageX<b.initpageX-7&&(a.preventDefault(),b.scrollright()))),b=null},SCROLLER.prototype.eventup=function(){var b=this;b.candrag&&(b.candrag=!1),b=null},SCROLLER.prototype.scrollleft=function(){this.parent.beerrotater.rotate(1),this.candrag=!1},SCROLLER.prototype.scrollright=function(){this.parent.beerrotater.rotate(-1),this.candrag=!1},SCROLLER.prototype.getpagex=function(a){var b;if(this.isTouch){var c=a.touches[0];b=c.pageX}else b=a.pageX;return b};var win=null;